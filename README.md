# ESP_8266_MQTT_SMART_HOME

# Базовые параметры

`#define wifi_ota` Обновление через OTA. Дополнительно активируется в веб интерфейсе

`#define DEF_CONFIG_ON_LOAD` Загрузка конфигурации по умолчанию при старте

`#define UN_drebizg 2` Количество повторных сканирований при котором принимается значение. Чем больше тем меньше возможен дребезг, но дольше отклик

`#define T_PERIOD 10` период кратности для опроса датчиков

`#define UART_SPEAD 115200` скорость UART для дебаг информации и работы некоторых датчиков

`#define FILE_EDIT` активирует файловый редактор

`#define wifi_firmware_update` обновление через фаил прошивки

`#define init_debug_port D1` порт на котором при загрузке проверяется 1 для активации дебаг режима. Использую очень редко

`#define PID_TEMP` активация пид регулятора. Использовал для управления котлом и температурой в доме

`#define analog_pin A0` активация апаратного аналогового порта

`#pulse_perion 10` количество циклов которое дердится логическая единица для выхода в режиме PULSE

# Поддерживаемое оборудование

Все ниже описанное указывается в фалйе configuration

## Использование ESP-12

Для использования  данного варианта  ESP необходимо  указать `#include "ESP12_pins.h"`

## DHT11_PIN

датчик влажности 

`#define DHT11_PIN D5` указываем пин подключения

`#define DHTTYPE DHT11`  тип датчика (DHT11,DHT22,DHT21)

##ONE_WIRE

Изначально данный проект расчитывался на работу с датчиками по этому протаколу. Возможно использовать

* DS18*20

* ds2406

* ds2408

* ds2413

* ds2438

* ds2450

Все датчики настраиваются

`#define ONE_WIRE_PORT D3` - порт для работы

`DS_1820_personal_convert` - запрос для конвертации температуры будет не глобальным, а адресным

## RC433

Подключение приемника RS433 или совместимого

`#define RC433_PORT D7` указывается порт подключения

## mcp23017

Расширитель на 16 портов. Каждый порт может работать как вход так и выход. Настраивается через веб интерфейс

`#define MCP` указывается адрес. Если пусто то берется 0;

## WS2812

Подключение ленты на базе WS2812

`#define WS_PIN  2` указывается порт подключения

`#define WS_LED_COUNT 7` Указывается количество диодов

## ws2812_run

Еще один вариант интеграции ленты на базе WS2812 для осведения лесницы

  `#define ws2812_run` - инициализация

  `#define ws2812_run_up_pin D0` - запуск от 1-го светодиода

  `#define ws2812_run_dwn_pin D1` - запуск от последнего светодиода

  `#define PIN_ws         D2` - порт подколючения

  `#define NUMPIXELS      24` - количество светодиодов

## BMP180

Датчик давления

`#define BMP180` инициализация в системе. Подключается к стандартному порту.

## RDM6300

RFID читалка. Может быть подключена как к програмному UART так и к апаратному

`#define RDM6300` инициализация в системе

`#define RDM6300_APARAT_UART` инициализация апаратного UART

`#define RDM6300_SOFT_UART_RX 10` RX для софтового UART

`#define RDM6300_SOFT_UART_TX 11` TX для софтового UART
